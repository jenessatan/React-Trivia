(this.webpackJsonpcpsc436i=this.webpackJsonpcpsc436i||[]).push([[0],{36:function(e,t,a){e.exports=a(70)},41:function(e,t,a){},42:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),l=a.n(i),c=(a(41),a(42),a(5)),o=a(6),s=a(7),u=a(8),m=a(2),d=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).toggle=function(){e.setState({visible:!e.state.visible})},e.onMouseOver=function(){e.setState({hover:e.props.item._id})},e.onMouseOut=function(){e.setState({hover:null})},e.toggleDetails=function(){e.setState({showModal:!e.state.showModal})},e.state={visible:!1,hover:null},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.item,a=t.question,n=t.answer,i=t._id;return r.a.createElement("div",{className:"question-item"},r.a.createElement("div",{className:this.state.hover===i?"card hover":"card",onMouseEnter:this.onMouseOver,onMouseLeave:this.onMouseOut},this.state.hover!==i&&r.a.createElement("p",{className:"question"},a),this.state.hover===i&&r.a.createElement("div",{className:"item-options"},r.a.createElement("button",{onClick:this.toggle,className:"answer-btn"},"Answer"),r.a.createElement("button",{onClick:function(){return e.props.openModal(e.props.item)},className:"detail-btn"},"Details"))),r.a.createElement("div",{className:(this.state.visible?"showing":"hiding")+" answer-div"},r.a.createElement("p",{className:"answer"},n)))}}]),a}(r.a.Component),f=a(9),v=a.n(f),E=(v.a.create({baseURL:"http://localhost:5000"}),function(e){return{type:"ITEM_ERROR",error:e||"Something went wrong"}}),h=Object(m.b)((function(e){return{modal:e.modal}}),{openModal:function(e){return{type:"OPEN_MODAL",trivia:e}}})(d),p="SHOW_ALL",b="SHOW_DISNEY",y="SHOW_FOOD",g=function(e){var t=e.active,a=e.children,n=e.onClick;return r.a.createElement("button",{onClick:n,className:t?"active-filter":"",style:{marginLeft:"4px"}},a)},O=Object(m.b)((function(e,t){return{active:t.filter===e.visibility}}),(function(e,t){return{onClick:function(){return e({type:"SET_VISIBILITY_FILTER",filter:t.filter})}}}))(g),N=function(){return r.a.createElement("div",{className:"filters"},r.a.createElement("p",null,"Filter: "),r.a.createElement(O,{filter:p},"All"),r.a.createElement(O,{filter:b},"Disney"),r.a.createElement(O,{filter:y},"Food"))},T=(a(63),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).confirmDeleteAll=function(t){window.confirm("Are you sure you want to delete all items?")&&e.props.deleteAllTriviaItems()},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllTrivia()}},{key:"render",value:function(){var e=this.props.trivia;return r.a.createElement("div",{className:"question-list"},r.a.createElement("h2",null,"Question List"),r.a.createElement("div",{className:"list-options"},r.a.createElement(N,null),r.a.createElement("button",{className:"delete-all-btn",onClick:this.confirmDeleteAll},"Delete All")),0===e.length?r.a.createElement("p",null,"There are no available questions"):e.map((function(e){return r.a.createElement(h,{key:e._id,item:e})})))}}]),a}(r.a.Component)),_=function(e,t){switch(t){case p:return e;case b:return e.filter((function(e){return"Disney"===e.category}));case y:return e.filter((function(e){return"Food"===e.category}));default:return e}},w=Object(m.b)((function(e){return{trivia:_(e.trivia.data,e.visibility)}}),{getAllTrivia:function(){return function(e){e({type:"START_LOADING"}),v.a.get("/api/trivia").then((function(t){e({type:"LOAD_ALL_ITEMS",trivia:t.data})})).catch((function(t){e(E())}))}},deleteAllTriviaItems:function(){return function(e){e({type:"START_LOADING"}),v.a.delete("/api/trivia").then((function(t){console.log(t.data.trivia.deletedCount),e({type:"DELETE_ALL_ITEMS"})})).catch((function(t){e(E())}))}}})(T),D=a(11),A=(a(64),a(14)),j=a(12),C=a(13),S=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={hover:null},n}return Object(o.a)(a,[{key:"handleHover",value:function(e){this.setState({hover:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.onChange,n=t.currentRating;return r.a.createElement("div",{className:"rating"},Object(A.a)(Array(5)).map((function(t,i){var l=i+1;return r.a.createElement("label",{key:i},r.a.createElement("input",{type:"radio",name:"difficulty",value:l,onClick:a}),r.a.createElement(j.a,{className:"star",icon:C.a,color:l<=(e.state.hover||n)?"#223047":"#CFCFCF",size:"2x",onMouseEnter:function(){return e.handleHover(l)},onMouseLeave:function(){return e.handleHover(null)}}))})))}}]),a}(r.a.Component),I=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault(),t.target.reset();var a=e.state;e.setState({question:"",answer:"",category:"",difficulty:null}),e.props.createTriviaItem(a)},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(D.a)({},a,n))},e.handleReset=function(t){t.target.reset(),e.setState({question:"",answer:"",category:"",difficulty:null})},e.state={question:"",answer:"",category:"",difficulty:null},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("form",{onSubmit:this.handleSubmit,onReset:this.handleReset},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-text"},r.a.createElement("label",null,"Question"),r.a.createElement("input",{type:"search",name:"question",onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-category"},r.a.createElement("label",null,"Category"),r.a.createElement("select",{name:"category",onChange:this.handleChange,required:!0},r.a.createElement("option",{value:""},"Select One"),r.a.createElement("option",{value:"Disney"},"Disney"),r.a.createElement("option",{value:"Food"},"Food")))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-text"},r.a.createElement("label",null,"Answer"),r.a.createElement("input",{type:"search",name:"answer",onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-rating"},r.a.createElement("label",null,"Difficulty"),r.a.createElement(S,{onChange:this.handleChange,currentRating:this.state.difficulty}))),r.a.createElement("div",{className:"form-btn"},r.a.createElement("input",{type:"submit",id:"btn-save",className:"btn",value:"Submit"}),r.a.createElement("input",{type:"reset",id:"btn-clear",className:"btn",value:"Reset"}))))}}]),a}(r.a.Component),L=Object(m.b)(null,{createTriviaItem:function(e){return function(t){t({type:"START_LOADING"}),v.a.post("/api/trivia",e).then((function(e){t(function(e){return{type:"ADD_ITEM",trivia:e}}(e.data))})).catch((function(e){t(E("Unable to add duplicate questions"))}))}}})(I),M=(a(67),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.loading?r.a.createElement("div",{className:"loading-container"},r.a.createElement("div",{className:"spinner"})):null)}}]),a}(r.a.Component)),k=Object(m.b)((function(e){return{loading:e.trivia.loading}}))(M),R=a(35),q=(a(68),function(e){var t=e.rating-1;return r.a.createElement("div",null,Object(A.a)(Array(5)).map((function(e,a){return r.a.createElement(j.a,{key:a,className:"rating-view",icon:C.a,color:a<=t?"#223047":"#CFCFCF",size:"lg"})})))}),F=a(4),W=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),e.target.reset();var t=n.state;n.props.updateTriviaItem(t),n.props.closeEditing()},n.handleChange=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(D.a)({},t,a))},n.handleReset=function(e){n.props.closeEditing()},n.state=Object(F.a)({},e.details),n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"details-modal"},r.a.createElement("header",{className:"modal-header"},r.a.createElement("h3",null,"Edit Details"),r.a.createElement("button",{className:"close-modal-btn",onClick:this.props.closeModal},"\xd7")),r.a.createElement("form",{onSubmit:this.handleSubmit,onReset:this.handleReset},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-text"},r.a.createElement("label",null,"Question"),r.a.createElement("input",{type:"search",name:"question",onChange:this.handleChange,value:this.state.question,required:!0})),r.a.createElement("div",{className:"form-category"},r.a.createElement("label",null,"Category"),r.a.createElement("select",{name:"category",onChange:this.handleChange,required:!0,value:this.state.category},r.a.createElement("option",{value:""},"Select One"),r.a.createElement("option",{value:"Disney"},"Disney"),r.a.createElement("option",{value:"Food"},"Food")))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-text"},r.a.createElement("label",null,"Answer"),r.a.createElement("input",{type:"search",name:"answer",onChange:this.handleChange,required:!0,value:this.state.answer})),r.a.createElement("div",{className:"form-rating"},r.a.createElement("label",null,"Difficulty"),r.a.createElement(S,{onChange:this.handleChange,currentRating:this.state.difficulty}))),r.a.createElement("div",{className:"form-btn"},r.a.createElement("input",{type:"submit",id:"btn-save",className:"btn",value:"Save"}),r.a.createElement("input",{type:"reset",id:"btn-clear",className:"btn",value:"Cancel"}))))}}]),a}(r.a.Component),H=Object(m.b)(null,{updateTriviaItem:function(e){return function(t){t({type:"START_LOADING"}),v.a.put("/api/trivia/".concat(e._id),e).then((function(e){t(function(e){return{type:"UPDATE_ITEM",trivia:e}}(e.data))})).catch((function(e){t(E("Unable to update this item"))}))}}})(W),x=function(e){var t=e.modal,a=e.closeModal,i=e.deleteTriviaItem,l=t.data,c=l.question,o=l.answer,s=l.category,u=l.difficulty,m=Object(n.useState)(!1),d=Object(R.a)(m,2),f=d[0],v=d[1];return t.isOpen&&!f?r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"details-modal"},r.a.createElement("header",{className:"modal-header"},r.a.createElement("h3",null,"Details"),r.a.createElement("button",{className:"close-modal-btn",onClick:a},"\xd7")),r.a.createElement("div",{className:"modal-content"},r.a.createElement("p",null,c),r.a.createElement("p",{className:"modal-content-label"},"Question"),r.a.createElement("p",null,o),r.a.createElement("p",{className:"modal-content-label"},"Answer"),r.a.createElement("div",{className:"modal-rating-category"},r.a.createElement("div",{className:"modal-category"},r.a.createElement("p",null,s),r.a.createElement("p",{className:"modal-content-label"},"Category")),r.a.createElement("div",{className:"modal-rating"},r.a.createElement(q,{rating:u}),r.a.createElement("p",{className:"modal-content-label"},"Difficulty")))),r.a.createElement("div",{className:"btn-container"},r.a.createElement("button",{className:"delete-item-btn",onClick:function(){window.confirm("Are you sure you want to delete this item?")&&(a(),i(t.data))}},"Delete"),r.a.createElement("button",{className:"edit-item-btn",onClick:function(){return v(!0)}},"Edit")))):t.isOpen&&f?r.a.createElement("div",{className:"modal"},r.a.createElement(H,{details:t.data,closeModal:a,closeEditing:function(){return v(!1)}})):null},P=Object(m.b)((function(e){return{modal:e.modal}}),{closeModal:function(){return{type:"CLOSE_MODAL"}},deleteTriviaItem:function(e){return function(t){t({type:"START_LOADING"}),v.a.delete("/api/trivia/".concat(e._id)).then((function(e){t(function(e){return{type:"DELETE_ITEM",_id:e._id}}(e.data))})).catch((function(e){t(E())}))}}})(x),U=(a(69),Object(m.b)((function(e){return{snackbar:e.snackbar}}),{hideSnackbar:function(){return{type:"HIDE_SNACKBAR"}}})((function(e){var t=e.snackbar,a=e.hideSnackbar;return Object(n.useEffect)((function(){var e=setTimeout((function(){return a()}),3e3);return function(){return clearTimeout(e)}})),r.a.createElement("div",{className:t.isOpen?"success"===t.type?"show success":"show error":"",id:"snackbar"},r.a.createElement("p",null,t.data),r.a.createElement(j.a,{className:"close",icon:C.b,onClick:function(){return a()}}))})));var B=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"React Trivia"),r.a.createElement(P,null),r.a.createElement(k,null),r.a.createElement(L,null),r.a.createElement(w,null),r.a.createElement(U,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(10),z={loading:!1,data:[],error:null},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;if("START_LOADING"===t.type)return Object(F.a)({},e,{loading:!0});if("ITEM_ERROR"===t.type)return Object(F.a)({},e,{loading:!1,error:t.error});if("ADD_ITEM"===t.type)return Object(F.a)({},e,{loading:!1,data:[].concat(Object(A.a)(e.data),[Object(F.a)({},t.trivia)])});if("DELETE_ITEM"===t.type)return Object(F.a)({},e,{loading:!1,data:e.data.filter((function(e){return e._id!==t._id}))});if("DELETE_ALL_ITEMS"===t.type)return Object(F.a)({},e,{loading:!1,data:[]});if("LOAD_ALL_ITEMS"===t.type)return Object(F.a)({},e,{loading:!1,data:t.trivia});if("UPDATE_ITEM"===t.type){var a=e.data.map((function(e){return e._id===t.trivia._id?t.trivia:e}));return Object(F.a)({},e,{loading:!1,data:a})}return e},Q={trivia:[{_id:0,question:"What gourmet ingredient used to be force-fed to prisoners and used as fertilizer?",answer:"Lobster",category:"Food",difficulty:3},{_id:1,question:"Who was the first Disney character to fart on-screen?",answer:"Pumba (Lion King, 1994)",category:"Disney",difficulty:1},{_id:2,question:"When did Russia officially classify beer as an alcoholic beverage?",answer:"2011",category:"Food",difficulty:2},{_id:3,question:"What is the paper inside of a Hershey's Kiss called?",answer:"A nigglywiggly",category:"Food",difficulty:5},{_id:4,question:"Who was the first Disney character to sing a duet with a villian?",answer:"Anna (Frozen, 2013)",category:"Disney",difficulty:4},{_id:5,question:"What name did Walt Disney originally plan on giving Mickey Mouse?",answer:"Mortimer",category:"Disney",difficulty:5}],visibility:"SHOW_ALL",modal:{isOpen:!1,data:{question:"",answer:"",category:""}},snackbar:{isOpen:!1,type:"",data:""}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q.visibility,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q.modal,t=arguments.length>1?arguments[1]:void 0;return"OPEN_MODAL"===t.type?{isOpen:!0,data:t.trivia}:"CLOSE_MODAL"===t.type?{isOpen:!1,data:{question:"",answer:"",category:""}}:"UPDATE_ITEM"===t.type?Object(F.a)({},e,{data:t.trivia}):e},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q.snackbar,t=arguments.length>1?arguments[1]:void 0;return"HIDE_SNACKBAR"===t.type?{isOpen:!1,data:""}:"ADD_ITEM"===t.type?{isOpen:!0,type:"success",data:"Successfully added new item"}:"DELETE_ITEM"===t.type?{isOpen:!0,type:"success",data:"Successfully deleted item"}:"UPDATE_ITEM"===t.type?{isOpen:!0,type:"success",data:"Successfully updated item"}:"ITEM_ERROR"===t.type?{isOpen:!0,type:"error",data:t.error}:e},$=Object(G.c)({trivia:K,visibility:Y,modal:J,snackbar:V}),X=a(34),Z=function(e){return Object(G.d)($,e,Object(G.a)(X.a))}();l.a.render(r.a.createElement(m.a,{store:Z},r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.5b8ce8bb.chunk.js.map